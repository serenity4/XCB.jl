<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>WindowAbstractions Interface · XCB.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">XCB.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../intro/">Introduction</a></li><li><a class="tocitem" href="../api/">API</a></li><li><a class="tocitem" href="../troubleshooting/">Troubleshooting</a></li><li><span class="tocitem">Developer documentation</span><ul><li class="is-active"><a class="tocitem" href>WindowAbstractions Interface</a><ul class="internal"><li><a class="tocitem" href="#Events"><span>Events</span></a></li></ul></li><li><a class="tocitem" href="../utility/">Utility tools</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Developer documentation</a></li><li class="is-active"><a href>WindowAbstractions Interface</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>WindowAbstractions Interface</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/serenity4/XCB.jl/blob/master/docs/src/interface.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="interface"><a class="docs-heading-anchor" href="#interface">WindowAbstractions Interface</a><a id="interface-1"></a><a class="docs-heading-anchor-permalink" href="#interface" title="Permalink"></a></h1><h2 id="Events"><a class="docs-heading-anchor" href="#Events">Events</a><a id="Events-1"></a><a class="docs-heading-anchor-permalink" href="#Events" title="Permalink"></a></h2><p>A large portion of this package is dedicated to handling the events reported by the X server and interfacing them into <code>EventDetails</code> instances.</p><p>In order to receive events from the server, we need to tell the server which types of event we want to be reported. This is done per-window, at their instantiation, through so-called event masks. In the future, it is intended to check which event we are subscribed to with the window callbacks that are provided to an event loop.</p><h3 id="Input-events"><a class="docs-heading-anchor" href="#Input-events">Input events</a><a id="Input-events-1"></a><a class="docs-heading-anchor-permalink" href="#Input-events" title="Permalink"></a></h3><p>Input events can be classified into different types:</p><ul><li>Key events which are generated by pressing or releasing a key from a keyboard,</li><li>Mouse events originating from pressing or releasing mouse buttons,</li><li>Pointer events such as moving out of or entering a window with the pointer, or moving around inside the window.</li></ul><p>Although drag actions are technically just of combination of mouse state and pointer events, they are reported as separate events.</p><h4 id="Key-events"><a class="docs-heading-anchor" href="#Key-events">Key events</a><a id="Key-events-1"></a><a class="docs-heading-anchor-permalink" href="#Key-events" title="Permalink"></a></h4><p>X and XCB do not offer much keystroke-related utilities, unless we look at some extensions such as XKB, which was used here for processing key inputs. It allows the storage of keyboard and keymap states, as well as functions to translate keystrokes into characters. The input processing using XKB was inspired from the <a href="https://github.com/xkbcommon/libxkbcommon/blob/master/doc/quick-guide.md">XKB tutorial</a>.</p><h4 id="Mouse-events"><a class="docs-heading-anchor" href="#Mouse-events">Mouse events</a><a id="Mouse-events-1"></a><a class="docs-heading-anchor-permalink" href="#Mouse-events" title="Permalink"></a></h4><p>It is a lot simpler to handle mouse events. Mouse state (e.g. which buttons were already pressed before the current mouse event) and pressed/released buttons are simply extracted from related X events, exposed in XCB via <code>xcb_button_press_release_event_t</code> and <code>xcb_button_release_event_t</code>.</p><h4 id="Pointer-events"><a class="docs-heading-anchor" href="#Pointer-events">Pointer events</a><a id="Pointer-events-1"></a><a class="docs-heading-anchor-permalink" href="#Pointer-events" title="Permalink"></a></h4><p>Pointer events are handled similarly to mouse events. Moving the pointer in the window, as well as leaving or entering it send a X event from which the relevant data is extracted.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../troubleshooting/">« Troubleshooting</a><a class="docs-footer-nextpage" href="../utility/">Utility tools »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Thursday 19 November 2020 20:43">Thursday 19 November 2020</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
